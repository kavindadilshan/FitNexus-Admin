<div class="card card-box mb-5 screen">
  <div class="card-header py-3">
    <div class="card-header--title font-size-lg">
      <div class="d-flex justify-content-between px-4 py-3">
      </div>
    </div>
    <div style="zoom: 93%;" class="card-header--actions">
      <button (click)="showCreateAdvertisementModel()" class="btn m-2 btn-pill btn-warning" type="button">Create</button>
    </div>
  </div>
  <div class="card-body">

    <div class="divider"></div>
    <div class="table-responsive">
      <table class="table table-hover table-striped table-bordered mb-0">
        <thead>
        <tr>
          <th class="bg-white">Image</th>
          <th style="text-align: center" class="bg-white">Action</th>
          <th style="text-align: center" class="bg-white">Visibility</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let val of returnedArray">
          <td>
            <a  class="card-img-wrapper rounded">
              <img  class="card-img-top rounded" style="width: 850px;height: 240px;zoom: 54%" [src]='val.image||"assets/images/no-image-available.png"'/>
            </a>
          </td>
          <td style="zoom: 93%;text-align: center">
            <button (click)="removeAdvertisement(val.id)" class="btn m-2 btn-pill btn-danger" type="button">Remove</button>
          </td>
          <td style="text-align: center">
            <ui-switch style="padding-left: 20px;"  checkedLabel="Yes" (mouseenter)="getAdvertisementStatus(val.visible,val.id)" [checked]="val.visible" [beforeChange]="OnBeforeChange"   id="uncheck"  size="small" uncheckedLabel="No"></ui-switch>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <div class="card-footer py-3 d-flex justify-content-between">
      <pagination *ngIf="totalElement > 10" [boundaryLinks]="true"
                   [rotate]="false"
                   (pageChanged)="pageChanged($event)"
                   [itemsPerPage]="size"
                   [maxSize]="3"
                   [totalItems]="totalElement"   class="pagination-icons pagination-second">
      </pagination>

    </div>
  </div>
</div>
<div bsModal [config]="{backdrop: 'static',  keyboard: false}" #createAdvertisementModal="bs-modal" class="modal fade screen" tabindex="-1" role="dialog">
  <div style="max-width: 65%;" class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title">New Advertisement</h6>
        <button type="button" class="close" aria-label="Close" (click)="createAdvertisementModal.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form autocomplete="off" (keydown.enter)="$event.preventDefault()" name="createAdvertisementForm" [formGroup]="createAdvertisementForm">
          <div class="form-row">
            <div class="position-relative form-group col-md-6">
              <label>Image (850 x 300)<span style="color: red">*</span></label>
              <ngx-img #ngimg class="file-multi" (onSelect)="onSelect($event)" (onReset)="onReset()"
                       [config]="{fileSize: 300,height: '230px', fileType: ['image/jpeg', 'image/png'], crop: [ { ratio: 2.8, autoCropArea: 1 ,width: 850,height: 310} ] }" [text]="textOption"></ngx-img>
            </div>
            <div hidden style="left: 1%;padding-top: 44px;" id="advertisementImage" class="form-group col-md-6">
              <label>Preview</label>
              <div class="d-flex flex-column flex-sm-row align-items-start">
                <div>
                  <div style="zoom: 55%" class="card card-transparent mb-3 mb-sm-0">
                    <a class="card-img-wrapper rounded">
                      <div class="img-wrapper-overlay">
                        <div class="overlay-btn-wrapper">
                        </div>
                      </div>
                      <img  class="card-img-top rounded"
                            [src]='base64Image||"assets/images/no-image-available.png"' style="width: 750px;height: 300px">
                    </a>
                  </div>
                </div>
                <div style="padding-left: 2%;padding-top: 2%;">
                  <button (click)="clearImage()" class="btn d-50 p-0 btn-pill m-2 btn-sm btn-danger"
                          type="button">
                <span class="btn-wrapper--icon" >
                    <i style="transform: scale(2);" class="pe-7s-close"></i>
                </span>
                  </button>
                </div>
              </div>

            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" (click)="createAdvertisementModal.hide()">Close</button>
        <button id="finishButton" data-style="slide-down" data-spinner-size="30" [ladda]="isLoading" type="button" class="btn btn-success ml-auto" (click)="createAdvertisement()">Save</button>
      </div>
    </div>
  </div>
</div>
